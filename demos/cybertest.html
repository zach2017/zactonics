<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSINT Skills Quiz for CTF Competition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 min-h-screen text-white">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">
                üïµÔ∏è OSINT Skills Quiz
            </h1>
            <p class="text-gray-300">Master Open Source Intelligence techniques for CTF competitions</p>
        </div>

        <!-- Score Display -->
        <div class="bg-black/30 rounded-lg p-4 mb-6 backdrop-blur-sm border border-gray-700">
            <div class="flex justify-between items-center">
                <div class="text-lg">
                    <span class="text-green-400">Score: </span>
                    <span id="score" class="font-bold">0</span>
                </div>
                <div class="text-lg">
                    <span class="text-blue-400">Question: </span>
                    <span id="currentQuestion" class="font-bold">1</span> / 
                    <span id="totalQuestions" class="font-bold">8</span>
                </div>
                <button id="resetBtn" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-colors">
                    Reset Quiz
                </button>
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quizContainer" class="bg-black/40 rounded-xl p-6 backdrop-blur-sm border border-gray-600 shadow-2xl">
            <!-- Question Display -->
            <div id="questionCard" class="mb-6">
                <h2 class="text-2xl font-semibold mb-4 text-cyan-300" id="questionTitle">Question 1</h2>
                <div class="bg-gray-800/50 rounded-lg p-4 mb-4">
                    <div class="mb-3">
                        <h3 class="text-lg font-semibold text-yellow-300 mb-2">Challenge:</h3>
                        <p id="challengeText" class="text-gray-200"></p>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-orange-300 mb-2">Question:</h3>
                        <p id="questionText" class="text-gray-200"></p>
                    </div>
                </div>
            </div>

            <!-- Answer Input -->
            <div class="mb-6">
                <label for="answerInput" class="block text-sm font-medium text-gray-300 mb-2">Your Answer:</label>
                <textarea id="answerInput" rows="4"
                       class="w-full px-4 py-3 bg-gray-800/70 border border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-white placeholder-gray-400 resize-vertical"
                       placeholder="Enter your answer here..."></textarea>
            </div>

            <!-- Action Buttons -->
            <div class="flex gap-4 mb-6">
                <button id="submitBtn" class="flex-1 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105">
                    Submit Answer
                </button>
                <button id="hintBtn" class="flex-1 bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105">
                    Get Hint
                </button>
                <button id="skipBtn" class="bg-gray-600 hover:bg-gray-700 px-6 py-3 rounded-lg font-semibold transition-colors">
                    Skip
                </button>
            </div>

            <!-- Feedback Area -->
            <div id="feedbackArea" class="hidden">
                <div class="bg-gray-800/70 rounded-lg p-4 border-l-4 border-blue-500">
                    <h3 class="font-semibold mb-2 text-blue-300">Feedback:</h3>
                    <pre id="feedbackText" class="text-gray-300 whitespace-pre-wrap font-mono text-sm"></pre>
                </div>
            </div>

            <!-- Next Button -->
            <button id="nextBtn" class="hidden w-full bg-green-600 hover:bg-green-700 px-6 py-3 rounded-lg font-semibold mt-4 transition-all transform hover:scale-105">
                Next Question ‚Üí
            </button>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="hidden bg-black/40 rounded-xl p-8 backdrop-blur-sm border border-gray-600 shadow-2xl text-center">
            <h2 class="text-3xl font-bold mb-4 text-cyan-300">Quiz Complete! üéâ</h2>
            <div class="text-6xl font-bold mb-4" id="finalScore">0/24</div>
            <p class="text-xl mb-6 text-gray-300" id="scoreMessage"></p>
            <div class="bg-gray-800/50 rounded-lg p-4 mb-6">
                <h3 class="font-semibold mb-2 text-purple-300">Performance Breakdown:</h3>
                <div id="performanceStats" class="text-left"></div>
            </div>
            <button id="restartBtn" class="bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 px-8 py-3 rounded-lg font-semibold transition-all transform hover:scale-105">
                Take Quiz Again
            </button>
        </div>

        <!-- OSINT Tips -->
        <div class="bg-black/30 rounded-xl p-6 backdrop-blur-sm border border-gray-600 shadow-2xl mt-8">
            <h2 class="text-2xl font-semibold mb-4 text-cyan-300">üéØ OSINT Quick Tips</h2>
            <div class="grid md:grid-cols-2 gap-4 text-sm">
                <div class="bg-gray-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-yellow-300 mb-2">Search Operators</h3>
                    <ul class="text-gray-300 space-y-1">
                        <li>‚Ä¢ <code class="bg-gray-700 px-2 py-1 rounded">site:</code> - Limit to specific domains</li>
                        <li>‚Ä¢ <code class="bg-gray-700 px-2 py-1 rounded">filetype:</code> - Find specific file types</li>
                        <li>‚Ä¢ <code class="bg-gray-700 px-2 py-1 rounded">"quotes"</code> - Exact phrase matching</li>
                        <li>‚Ä¢ <code class="bg-gray-700 px-2 py-1 rounded">-</code> - Exclude terms or sites</li>
                    </ul>
                </div>
                <div class="bg-gray-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-yellow-300 mb-2">Verification Rules</h3>
                    <ul class="text-gray-300 space-y-1">
                        <li>‚Ä¢ Always use multiple sources</li>
                        <li>‚Ä¢ Check official domains first</li>
                        <li>‚Ä¢ Verify timestamps and dates</li>
                        <li>‚Ä¢ Document your search process</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Quiz Data
        const questions = [
            {
                id: 1,
                challenge: "You need to find a PDF document about 'cybersecurity training' that's hosted specifically on the University of Alabama website.",
                question: "What search query would you use to find this document?",
                answer: "site:ua.edu filetype:pdf cybersecurity training",
                hint: "Combine site:ua.edu and filetype:pdf with the keywords.",
                steps: "1. Identify the domain: ua.edu\n2. Specify the file type: pdf\n3. Add keywords: cybersecurity training\n4. Combine with operators site: and filetype:",
                explanation: "Correct Answer: site:ua.edu filetype:pdf cybersecurity training\n\nExplanation:\n‚Ä¢ site:ua.edu limits results to University of Alabama domains\n‚Ä¢ filetype:pdf searches only for PDF files\n‚Ä¢ The remaining terms are the content keywords\n‚Ä¢ This combines two essential OSINT search operators for targeted results"
            },
            {
                id: 2,
                challenge: "You've found a social media post mentioning 'Roll Tide Festival 2024' but need to verify if this is a real event at the University of Alabama.",
                question: "What search strategy would help you verify this information?",
                answer: "\"Roll Tide Festival 2024\" site:ua.edu OR site:alabama.edu",
                hint: "Use quotes for the event name with site: operators for official domains.",
                steps: "1. Enclose the event name in quotes\n2. Specify official sites with site:\n3. Use OR for multiple sites",
                explanation: "Correct Answer: \"Roll Tide Festival 2024\" site:ua.edu OR site:alabama.edu\n\nExplanation:\n‚Ä¢ Quotation marks ensure exact phrase matching\n‚Ä¢ Using official university domains increases credibility\n‚Ä¢ The OR operator searches multiple related domains\n‚Ä¢ If no results appear on official sites, the event may be unofficial or fake"
            },
            {
                id: 3,
                challenge: "You found GPS coordinates in a file: 33¬∞ 12' 35.3334\", -87¬∞ 32' 46.8306\"",
                question: "What location do these coordinates point to, and what format are they in?",
                answer: "Format: DMS (Degrees, Minutes, Seconds)\nLocation: University of Alabama campus, Tuscaloosa\nConverted to DD: 33.209815, -87.546197",
                hint: "The format is DMS (degrees, minutes, seconds). Use a mapping tool to find the location.",
                steps: "1. Recognize the format as DMS\n2. Convert to decimal degrees if needed\n3. Use a mapping tool to plot the coordinates\n4. Identify the location as UA campus",
                explanation: "Correct Answer:\n‚Ä¢ Format: DMS (Degrees, Minutes, Seconds)\n‚Ä¢ Location: University of Alabama campus, Tuscaloosa\n‚Ä¢ Converted to DD: 33.209815, -87.546197\n\nExplanation:\n‚Ä¢ DMS format uses degrees (¬∞), minutes ('), and seconds (\")\n‚Ä¢ Negative longitude indicates Western Hemisphere\n‚Ä¢ These coordinates specifically point to the UA campus area\n‚Ä¢ Converting between coordinate formats is crucial for cross-referencing locations"
            },
            {
                id: 4,
                challenge: "Find information about a person named 'Dr. Sarah Johnson' who works in cybersecurity, but exclude results from LinkedIn and Facebook.",
                question: "Construct an effective search query.",
                answer: "\"Dr. Sarah Johnson\" cybersecurity -site:linkedin.com -site:facebook.com",
                hint: "Use quotes for the name, add the topic, and exclude sites with -site:",
                steps: "1. Quote the name\n2. Add topic keyword\n3. Exclude sites with -site:",
                explanation: "Correct Answer: \"Dr. Sarah Johnson\" cybersecurity -site:linkedin.com -site:facebook.com\n\nExplanation:\n‚Ä¢ Quotation marks ensure the exact name is searched\n‚Ä¢ The minus (-) operator excludes specific sites\n‚Ä¢ This helps find more professional or academic sources\n‚Ä¢ Useful when social media results dominate search results"
            },
            {
                id: 5,
                challenge: "You have a photo that appears to be taken at a university. The image shows a distinctive clock tower, but you need to determine which university.",
                question: "What OSINT approach would help identify the location?",
                answer: "Multiple approaches:\n1. Reverse Image Search: Upload to Google Images, TinEye, or Yandex\n2. Architectural Search: university \"clock tower\" Alabama OR Auburn OR UAB\n3. Visual Analysis: Look for visible text, logos, or distinctive architectural features",
                hint: "Try reverse image search or search for 'clock tower' with university names.",
                steps: "1. Try reverse image search\n2. Search for distinctive features like clock tower\n3. Limit to Alabama universities",
                explanation: "Correct Answer: Multiple approaches:\n1. Reverse Image Search: Upload to Google Images, TinEye, or Yandex\n2. Architectural Search: university \"clock tower\" Alabama OR Auburn OR UAB\n3. Visual Analysis: Look for visible text, logos, or distinctive architectural features\n\nExplanation:\n‚Ä¢ Reverse image searches can find identical or similar images with location data\n‚Ä¢ Searching for distinctive architectural features helps narrow locations\n‚Ä¢ Combining multiple search terms with OR operators expands results\n‚Ä¢ Always verify findings with multiple sources"
            },
            {
                id: 6,
                challenge: "You've downloaded a document that claims to be from 'Crimson Defense Cyber Security Club' but need to verify its authenticity.",
                question: "What OSINT techniques would help verify this document?",
                answer: "1. Search for official sources: site:ua.edu \"Crimson Defense\"\n2. Cross-reference information: Compare document details with official club information\n3. Check document properties: Examine metadata for creation details\n4. Verify contact information: Confirm any email addresses or websites mentioned",
                hint: "Search official sites for the club, check metadata, and cross-reference details.",
                steps: "1. Search official sites for the club\n2. Check metadata\n3. Cross-reference details\n4. Verify contacts",
                explanation: "Correct Answer:\n1. Search for official sources: site:ua.edu \"Crimson Defense\"\n2. Cross-reference information: Compare document details with official club information\n3. Check document properties: Examine metadata for creation details\n4. Verify contact information: Confirm any email addresses or websites mentioned\n\nExplanation:\n‚Ä¢ Official sources provide ground truth for verification\n‚Ä¢ Metadata can reveal creation software, dates, and author information\n‚Ä¢ Cross-referencing helps identify inconsistencies\n‚Ä¢ Always verify through multiple independent sources"
            },
            {
                id: 7,
                challenge: "You found a username 'CrimsonHacker2025' associated with suspicious activity. You need to find other online accounts with this username.",
                question: "What search strategy would help find associated accounts?",
                answer: "1. Exact username search: \"CrimsonHacker2025\"\n2. Platform-specific searches:\n   ‚Ä¢ site:twitter.com \"CrimsonHacker2025\"\n   ‚Ä¢ site:github.com \"CrimsonHacker2025\"\n   ‚Ä¢ site:reddit.com \"CrimsonHacker2025\"\n3. Username variation searches: CrimsonHacker OR \"Crimson Hacker\" 2025",
                hint: "Use quotes for exact username search and site: operators for specific platforms.",
                steps: "1. Search exact username in quotes\n2. Use site: for specific platforms\n3. Try variations",
                explanation: "Correct Answer:\n1. Exact username search: \"CrimsonHacker2025\"\n2. Platform-specific searches:\n   ‚Ä¢ site:twitter.com \"CrimsonHacker2025\"\n   ‚Ä¢ site:github.com \"CrimsonHacker2025\"\n   ‚Ä¢ site:reddit.com \"CrimsonHacker2025\"\n3. Username variation searches: CrimsonHacker OR \"Crimson Hacker\" 2025\n\nExplanation:\n‚Ä¢ Quotation marks prevent search engines from breaking up the username\n‚Ä¢ Site-specific searches help find accounts on major platforms\n‚Ä¢ Username variations account for different formatting preferences\n‚Ä¢ Systematic searching across platforms builds a comprehensive profile"
            },
            {
                id: 8,
                challenge: "Someone claims there was a 'UACTF 2024' competition, but you need to verify when it actually occurred and find official results.",
                question: "How would you verify this information?",
                answer: "1. Official source search: site:crimsondefense.cs.ua.edu \"UACTF 2024\"\n2. News coverage: \"UACTF 2024\" OR \"University of Alabama CTF\" news\n3. Social media verification: \"UACTF 2024\" site:twitter.com OR site:facebook.com\n4. Academic calendar check: site:ua.edu calendar events \"capture the flag\"",
                hint: "Search official university sites, news sources, and social media for verification.",
                steps: "1. Search official site\n2. Look for news\n3. Check social media\n4. Verify in calendar",
                explanation: "Correct Answer:\n1. Official source search: site:crimsondefense.cs.ua.edu \"UACTF 2024\"\n2. News coverage: \"UACTF 2024\" OR \"University of Alabama CTF\" news\n3. Social media verification: \"UACTF 2024\" site:twitter.com OR site:facebook.com\n4. Academic calendar check: site:ua.edu calendar events \"capture the flag\"\n\nExplanation:\n‚Ä¢ Official university sources provide authoritative information\n‚Ä¢ News coverage offers independent verification\n‚Ä¢ Social media posts can provide real-time event coverage\n‚Ä¢ Academic calendars help verify official university involvement"
            }
        ];

        // Storage system (using memory instead of localStorage for compatibility)
        let gameData = {
            currentQuestion: 0,
            score: 0,
            attempts: {},
            questionStats: {}
        };

        // Try to load from localStorage if available
        function loadGameData() {
            try {
                const saved = localStorage.getItem('osintQuizData');
                if (saved) {
                    gameData = {...gameData, ...JSON.parse(saved)};
                }
            } catch(e) {
                console.log('Using in-memory storage');
            }
        }

        // Save to localStorage if available
        function saveGameData() {
            try {
                localStorage.setItem('osintQuizData', JSON.stringify(gameData));
            } catch(e) {
                // Continue with memory storage
            }
        }

        // DOM elements
        const elements = {
            score: document.getElementById('score'),
            currentQuestion: document.getElementById('currentQuestion'),
            totalQuestions: document.getElementById('totalQuestions'),
            questionTitle: document.getElementById('questionTitle'),
            challengeText: document.getElementById('challengeText'),
            questionText: document.getElementById('questionText'),
            answerInput: document.getElementById('answerInput'),
            submitBtn: document.getElementById('submitBtn'),
            hintBtn: document.getElementById('hintBtn'),
            skipBtn: document.getElementById('skipBtn'),
            nextBtn: document.getElementById('nextBtn'),
            feedbackArea: document.getElementById('feedbackArea'),
            feedbackText: document.getElementById('feedbackText'),
            quizContainer: document.getElementById('quizContainer'),
            resultsScreen: document.getElementById('resultsScreen'),
            finalScore: document.getElementById('finalScore'),
            scoreMessage: document.getElementById('scoreMessage'),
            performanceStats: document.getElementById('performanceStats'),
            resetBtn: document.getElementById('resetBtn'),
            restartBtn: document.getElementById('restartBtn')
        };

        // Initialize quiz
        function initializeQuiz() {
            loadGameData();
            elements.totalQuestions.textContent = questions.length;
            displayQuestion();
            updateDisplay();
        }

        // Display current question
        function displayQuestion() {
            const question = questions[gameData.currentQuestion];
            if (!question) {
                showResults();
                return;
            }

            elements.questionTitle.textContent = `Question ${gameData.currentQuestion + 1}`;
            elements.challengeText.textContent = question.challenge;
            elements.questionText.textContent = question.question;
            elements.answerInput.value = '';
            elements.answerInput.focus();
            
            // Reset UI state
            elements.feedbackArea.classList.add('hidden');
            elements.nextBtn.classList.add('hidden');
            elements.submitBtn.classList.remove('hidden');
            elements.answerInput.disabled = false;

            // Initialize attempts for this question if not exists
            if (!gameData.attempts[question.id]) {
                gameData.attempts[question.id] = 0;
            }
        }

        // Update score and question display
        function updateDisplay() {
            elements.score.textContent = gameData.score;
            elements.currentQuestion.textContent = gameData.currentQuestion + 1;
        }

        // Normalize answer for comparison
        function normalizeAnswer(answer) {
            return answer.toLowerCase()
                .replace(/\s+/g, ' ')
                .replace(/['"]/g, '"')
                .trim();
        }

        // Submit answer
        function submitAnswer() {
            const question = questions[gameData.currentQuestion];
            const userAnswer = elements.answerInput.value.trim();
            const correctAnswer = question.answer;
            
            gameData.attempts[question.id]++;
            
            // Check if answer is correct (more flexible matching)
            const isCorrect = normalizeAnswer(userAnswer) === normalizeAnswer(correctAnswer) ||
                             userAnswer.toLowerCase().includes(normalizeAnswer(correctAnswer)) ||
                             normalizeAnswer(correctAnswer).includes(normalizeAnswer(userAnswer));
            
            if (isCorrect) {
                // Correct answer
                const points = Math.max(1, 4 - gameData.attempts[question.id]);
                gameData.score += points;
                gameData.questionStats[question.id] = {
                    correct: true,
                    attempts: gameData.attempts[question.id],
                    points: points
                };
                
                showFeedback(`‚úÖ Correct! You earned ${points} points.\n\n${question.explanation}`, 'success');
                elements.nextBtn.classList.remove('hidden');
                elements.submitBtn.classList.add('hidden');
                elements.answerInput.disabled = true;
            } else {
                // Wrong answer
                gameData.questionStats[question.id] = {
                    correct: false,
                    attempts: gameData.attempts[question.id],
                    points: 0
                };
                
                if (gameData.attempts[question.id] >= 3) {
                    showFeedback(`‚ùå Incorrect. Here's the complete solution:\n\n${question.explanation}`, 'error');
                    elements.nextBtn.classList.remove('hidden');
                    elements.submitBtn.classList.add('hidden');
                    elements.answerInput.disabled = true;
                } else {
                    showFeedback(`‚ùå Incorrect. Try again! (Attempt ${gameData.attempts[question.id]}/3)`, 'error');
                }
            }
            
            updateDisplay();
            saveGameData();
        }

        // Show hint
        function showHint() {
            const question = questions[gameData.currentQuestion];
            const attempts = gameData.attempts[question.id];
            
            let hintText;
            if (attempts === 0) {
                hintText = `üí° Hint: ${question.hint}`;
            } else if (attempts === 1) {
                hintText = `üìã Detailed Steps:\n${question.steps}`;
            } else {
                hintText = `üìù Complete Solution:\n\n${question.explanation}`;
                elements.nextBtn.classList.remove('hidden');
                elements.submitBtn.classList.add('hidden');
                elements.answerInput.disabled = true;
            }
            
            showFeedback(hintText, 'hint');
            
            if (attempts < 3) {
                gameData.attempts[question.id]++;
                saveGameData();
            }
        }

        // Show feedback
        function showFeedback(message, type) {
            elements.feedbackText.textContent = message;
            elements.feedbackArea.classList.remove('hidden');
            elements.feedbackArea.classList.add('fade-in');
            
            // Update border color based on type
            const borderColor = {
                success: 'border-green-500',
                error: 'border-red-500',
                hint: 'border-yellow-500'
            }[type] || 'border-blue-500';
            
            elements.feedbackArea.querySelector('div').className = `bg-gray-800/70 rounded-lg p-4 border-l-4 ${borderColor}`;
        }

        // Skip question
        function skipQuestion() {
            const question = questions[gameData.currentQuestion];
            gameData.questionStats[question.id] = {
                correct: false,
                attempts: gameData.attempts[question.id] || 0,
                points: 0,
                skipped: true
            };
            nextQuestion();
        }

        // Next question
        function nextQuestion() {
            gameData.currentQuestion++;
            if (gameData.currentQuestion < questions.length) {
                displayQuestion();
                updateDisplay();
            } else {
                showResults();
            }
            saveGameData();
        }

        // Show results
        function showResults() {
            elements.quizContainer.classList.add('hidden');
            elements.resultsScreen.classList.remove('hidden');
            
            const totalPossibleScore = questions.length * 3; // Max 3 points per question
            const percentage = Math.round((gameData.score / totalPossibleScore) * 100);
            
            elements.finalScore.textContent = `${gameData.score}/${totalPossibleScore}`;
            
            let message;
            if (percentage >= 90) message = "üïµÔ∏è OSINT Master! Outstanding investigative skills!";
            else if (percentage >= 75) message = "üåü Great detective work! You have strong OSINT skills!";
            else if (percentage >= 60) message = "üëç Good investigation! Keep practicing those techniques!";
            else if (percentage >= 40) message = "üìö Solid foundation! Review the search operators and try again!";
            else message = "üîç Keep learning! OSINT mastery takes practice!";
            
            elements.scoreMessage.textContent = message;
            
            // Performance breakdown
            let statsHtml = '';
            let correctCount = 0;
            let skippedCount = 0;
            
            questions.forEach((question, index) => {
                const stat = gameData.questionStats[question.id];
                if (stat) {
                    if (stat.correct) correctCount++;
                    if (stat.skipped) skippedCount++;
                    
                    const status = stat.correct ? '‚úÖ' : (stat.skipped ? '‚è≠Ô∏è' : '‚ùå');
                    const points = stat.points || 0;
                    const attempts = stat.attempts || 0;
                    
                    statsHtml += `<div class="flex justify-between py-1">
                        <span>Q${index + 1}: ${status}</span>
                        <span>${points} pts (${attempts} attempts)</span>
                    </div>`;
                }
            });
            
            statsHtml += `<hr class="my-2 border-gray-600">`;
            statsHtml += `<div class="flex justify-between font-semibold">
                <span>Correct: ${correctCount}/${questions.length}</span>
                <span>Skipped: ${skippedCount}</span>
            </div>`;
            
            elements.performanceStats.innerHTML = statsHtml;
        }

        // Reset quiz
        function resetQuiz() {
            gameData = {
                currentQuestion: 0,
                score: 0,
                attempts: {},
                questionStats: {}
            };
            saveGameData();
            elements.resultsScreen.classList.add('hidden');
            elements.quizContainer.classList.remove('hidden');
            displayQuestion();
            updateDisplay();
        }

        // Event listeners
        elements.submitBtn.addEventListener('click', submitAnswer);
        elements.hintBtn.addEventListener('click', showHint);
        elements.skipBtn.addEventListener('click', skipQuestion);
        elements.nextBtn.addEventListener('click', nextQuestion);
        elements.resetBtn.addEventListener('click', resetQuiz);
        elements.restartBtn.addEventListener('click', resetQuiz);

        // Enter key to submit
        elements.answerInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && e.ctrlKey && !elements.submitBtn.classList.contains('hidden')) {
                submitAnswer();
            }
        });

        // Initialize the quiz
        initializeQuiz();
    </script>
</body>
</html>