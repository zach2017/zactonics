<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Security Skills Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .code-font {
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-900 via-indigo-900 to-slate-900 min-h-screen text-white">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent">
                üåê Website Security Quiz
            </h1>
            <p class="text-gray-300">Master browser developer tools and ethical security analysis</p>
        </div>

        <!-- Score Display -->
        <div class="bg-black/30 rounded-lg p-4 mb-6 backdrop-blur-sm border border-gray-700">
            <div class="flex justify-between items-center">
                <div class="text-lg">
                    <span class="text-green-400">Score: </span>
                    <span id="score" class="font-bold">0</span>
                </div>
                <div class="text-lg">
                    <span class="text-blue-400">Question: </span>
                    <span id="currentQuestion" class="font-bold">1</span> / 
                    <span id="totalQuestions" class="font-bold">10</span>
                </div>
                <button id="resetBtn" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-colors">
                    Reset Quiz
                </button>
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quizContainer" class="bg-black/40 rounded-xl p-6 backdrop-blur-sm border border-gray-600 shadow-2xl">
            <!-- Question Display -->
            <div id="questionCard" class="mb-6">
                <h2 class="text-2xl font-semibold mb-4 text-indigo-300" id="questionTitle">Question 1</h2>
                <div class="bg-gray-800/50 rounded-lg p-4 mb-4">
                    <p id="questionText" class="text-lg mb-3"></p>
                    <div id="codeData" class="bg-gray-900/70 rounded-lg p-3 code-font text-green-300 border border-gray-600 text-sm overflow-x-auto hidden"></div>
                </div>
            </div>

            <!-- Answer Input -->
            <div class="mb-6">
                <label for="answerInput" class="block text-sm font-medium text-gray-300 mb-2">Your Answer:</label>
                <input type="text" id="answerInput" 
                       class="w-full px-4 py-3 bg-gray-800/70 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400"
                       placeholder="Enter your answer...">
            </div>

            <!-- Action Buttons -->
            <div class="flex gap-4 mb-6">
                <button id="submitBtn" class="flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105">
                    Submit Answer
                </button>
                <button id="hintBtn" class="flex-1 bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105">
                    Get Hint
                </button>
                <button id="skipBtn" class="bg-gray-600 hover:bg-gray-700 px-6 py-3 rounded-lg font-semibold transition-colors">
                    Skip
                </button>
            </div>

            <!-- Feedback Area -->
            <div id="feedbackArea" class="hidden">
                <div class="bg-gray-800/70 rounded-lg p-4 border-l-4 border-blue-500">
                    <h3 class="font-semibold mb-2 text-blue-300">Feedback:</h3>
                    <pre id="feedbackText" class="text-gray-300 whitespace-pre-wrap font-mono text-sm"></pre>
                </div>
            </div>

            <!-- Next Button -->
            <button id="nextBtn" class="hidden w-full bg-green-600 hover:bg-green-700 px-6 py-3 rounded-lg font-semibold mt-4 transition-all transform hover:scale-105">
                Next Question ‚Üí
            </button>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="hidden bg-black/40 rounded-xl p-8 backdrop-blur-sm border border-gray-600 shadow-2xl text-center">
            <h2 class="text-3xl font-bold mb-4 text-indigo-300">Quiz Complete! üéâ</h2>
            <div class="text-6xl font-bold mb-4" id="finalScore">0/30</div>
            <p class="text-xl mb-6 text-gray-300" id="scoreMessage"></p>
            <div class="bg-gray-800/50 rounded-lg p-4 mb-6">
                <h3 class="font-semibold mb-2 text-purple-300">Performance Breakdown:</h3>
                <div id="performanceStats" class="text-left"></div>
            </div>
            <button id="restartBtn" class="bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 px-8 py-3 rounded-lg font-semibold transition-all transform hover:scale-105">
                Take Quiz Again
            </button>
        </div>

        <!-- Website Security Reference -->
        <div class="bg-black/30 rounded-xl p-6 backdrop-blur-sm border border-gray-600 shadow-2xl mt-8">
            <h2 class="text-2xl font-semibold mb-4 text-indigo-300">üîß Developer Tools Quick Reference</h2>
            <div class="grid md:grid-cols-2 gap-6 text-sm">
                <div class="bg-gray-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-blue-300 mb-3">Key Shortcuts</h3>
                    <div class="space-y-2 text-gray-300">
                        <div><span class="text-yellow-300">F12:</span> Open Developer Tools</div>
                        <div><span class="text-yellow-300">Ctrl+Shift+I:</span> Alternative DevTools shortcut</div>
                        <div><span class="text-yellow-300">Ctrl+Shift+C:</span> Inspect Element mode</div>
                        <div><span class="text-yellow-300">Ctrl+U:</span> View page source</div>
                    </div>
                </div>
                <div class="bg-gray-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-blue-300 mb-3">DevTools Panels</h3>
                    <div class="space-y-2 text-gray-300">
                        <div><span class="text-yellow-300">Elements:</span> HTML structure and CSS</div>
                        <div><span class="text-yellow-300">Sources:</span> JavaScript files and debugging</div>
                        <div><span class="text-yellow-300">Network:</span> HTTP requests and responses</div>
                        <div><span class="text-yellow-300">Console:</span> JavaScript execution and errors</div>
                    </div>
                </div>
                <div class="bg-gray-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-blue-300 mb-3">Common Techniques</h3>
                    <div class="space-y-2 text-gray-300">
                        <div><span class="text-yellow-300">Source Analysis:</span> View page source code</div>
                        <div><span class="text-yellow-300">Element Inspection:</span> Examine HTML/CSS</div>
                        <div><span class="text-yellow-300">Network Monitoring:</span> Track requests</div>
                        <div><span class="text-yellow-300">Console Commands:</span> Execute JavaScript</div>
                    </div>
                </div>
                <div class="bg-gray-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-blue-300 mb-3">Security Analysis</h3>
                    <div class="space-y-2 text-gray-300">
                        <div>‚Ä¢ Look for hidden form fields</div>
                        <div>‚Ä¢ Check JavaScript for secrets</div>
                        <div>‚Ä¢ Analyze network requests</div>
                        <div>‚Ä¢ Examine cookies and storage</div>
                    </div>
                </div>
            </div>
            <div class="mt-4 p-4 bg-amber-900/30 border border-amber-600 rounded-lg">
                <p class="text-amber-200 text-sm">
                    <strong>‚ö†Ô∏è Ethical Use Only:</strong> These techniques should only be used on websites you own, 
                    have explicit permission to test, or in authorized educational environments like CTF competitions. 
                    Unauthorized security testing is illegal and unethical.
                </p>
            </div>
        </div>
    </div>

    <script>
        // Quiz Data
        const questions = [
            {
                id: 1,
                question: "What key do you press to open browser Developer Tools?",
                data: "",
                answer: "F12",
                hint: "This is a function key located at the top of your keyboard.",
                steps: "1. Look at the top row of your keyboard\n2. Find the function keys (F1, F2, F3...)\n3. The key to open DevTools is F12\n4. This works in Chrome, Firefox, Edge, and most browsers",
                explanation: "F12 is the universal shortcut to open Developer Tools in most modern browsers including Chrome, Firefox, Edge, and Safari."
            },
            {
                id: 2,
                question: "Which DevTools panel shows the HTML structure of a webpage?",
                data: "",
                answer: "Elements",
                hint: "This panel is named after the building blocks of HTML - the HTML tags.",
                steps: "1. Think about what HTML is made of\n2. HTML consists of elements (tags)\n3. The panel that shows HTML structure is called 'Elements'\n4. This is where you can inspect and modify HTML",
                explanation: "The Elements panel (called Inspector in Firefox) shows the HTML structure of the webpage and allows you to inspect and modify HTML elements and their CSS styles."
            },
            {
                id: 3,
                question: "What DevTools panel would you use to see JavaScript files?",
                data: "",
                answer: "Sources",
                hint: "This panel contains the source code files that make up the website.",
                steps: "1. Think about where code files are stored\n2. JavaScript files are source code\n3. The panel for viewing source files is 'Sources'\n4. This includes JS, CSS, and other resource files",
                explanation: "The Sources panel contains all the source files that make up the website, including JavaScript files, CSS stylesheets, and other resources. It also includes debugging tools."
            },
            {
                id: 4,
                question: "Which panel shows HTTP requests and network traffic?",
                data: "",
                answer: "Network",
                hint: "This panel monitors communication between your browser and the web server.",
                steps: "1. Think about data traveling over the internet\n2. HTTP requests go through the network\n3. The panel that monitors this is called 'Network'\n4. It shows requests, responses, and loading times",
                explanation: "The Network panel monitors all HTTP requests made by the webpage, showing request/response headers, status codes, loading times, and transferred data."
            },
            {
                id: 5,
                question: "What keyboard shortcut activates 'Inspect Element' mode?",
                data: "",
                answer: "Ctrl+Shift+C",
                hint: "This shortcut uses Ctrl, Shift, and one letter. The letter stands for 'Choose' or 'Click'.",
                steps: "1. The shortcut uses Ctrl and Shift\n2. Plus one more letter key\n3. 'C' for 'Choose element' or 'Click to inspect'\n4. Ctrl+Shift+C activates inspect mode",
                explanation: "Ctrl+Shift+C (or Cmd+Shift+C on Mac) activates Inspect Element mode, allowing you to click on any element on the webpage to inspect its HTML and CSS."
            },
            {
                id: 6,
                question: "What does 'View Page Source' show you?",
                data: "",
                answer: "HTML source code",
                hint: "This shows the raw code that the browser received from the server.",
                steps: "1. Page source shows the original code\n2. This is what the server sent to your browser\n3. It's the raw HTML markup\n4. Answer: HTML source code",
                explanation: "'View Page Source' (Ctrl+U) displays the original HTML source code as received from the server, before any JavaScript modifications or dynamic changes."
            },
            {
                id: 7,
                question: "In the Elements panel, what can you do to HTML elements?",
                data: "",
                answer: "edit",
                hint: "The Elements panel allows you to make changes to the HTML and see them in real-time.",
                steps: "1. The Elements panel is interactive\n2. You can modify HTML elements\n3. You can change text, attributes, and structure\n4. The main action is to 'edit' elements",
                explanation: "In the Elements panel, you can edit HTML elements by double-clicking on them, modifying attributes, changing text content, and even adding or removing elements. Changes are temporary and only affect your local view."
            },
            {
                id: 8,
                question: "Which panel would show JavaScript console errors?",
                data: "",
                answer: "Console",
                hint: "This panel displays output from JavaScript and any error messages.",
                steps: "1. JavaScript errors need to be displayed somewhere\n2. There's a panel specifically for JavaScript output\n3. It's called the 'Console'\n4. This shows errors, warnings, and log messages",
                explanation: "The Console panel displays JavaScript errors, warnings, and log messages. It also allows you to execute JavaScript commands directly in the context of the current webpage."
            },
            {
                id: 9,
                question: "What should you always verify before testing website security?",
                data: "",
                answer: "authorization",
                hint: "You need legal permission to test a website's security. What do you call this permission?",
                steps: "1. Security testing requires permission\n2. You need legal consent to test websites\n3. This permission is called 'authorization'\n4. Never test websites without proper authorization",
                explanation: "You should always verify that you have proper authorization (permission) before testing any website's security. Testing without authorization is illegal and unethical. Only test sites you own or have explicit written permission to test."
            },
            {
                id: 10,
                question: "What HTML attribute can sometimes contain sensitive information in forms?",
                data: "<input type=\"hidden\" name=\"admin\" value=\"true\">",
                answer: "hidden",
                hint: "Look at the HTML example. There's an input type that's not visible to users but might contain secrets.",
                steps: "1. Look at the HTML input element\n2. The type attribute has a specific value\n3. This input type is 'hidden'\n4. Hidden inputs can contain sensitive data",
                explanation: "The 'hidden' input type creates form fields that are not visible to users but are still present in the HTML source. These often contain sensitive information like user IDs, tokens, or flags in CTF competitions."
            }
        ];

        // Storage system - use localStorage when available, fallback to memory
        let gameData = {
            currentQuestion: 0,
            score: 0,
            attempts: {},
            questionStats: {}
        };

        // Load game data from storage
        function loadGameData() {
            try {
                const saved = localStorage.getItem('websiteSecurityQuizData');
                if (saved) {
                    gameData = JSON.parse(saved);
                }
            } catch(e) {
                console.log('Using in-memory storage - localStorage not available');
            }
        }

        // Save game data to storage
        function saveGameData() {
            try {
                localStorage.setItem('websiteSecurityQuizData', JSON.stringify(gameData));
            } catch(e) {
                // Continue with memory storage
            }
        }

        // DOM elements
        const elements = {
            score: document.getElementById('score'),
            currentQuestion: document.getElementById('currentQuestion'),
            totalQuestions: document.getElementById('totalQuestions'),
            questionTitle: document.getElementById('questionTitle'),
            questionText: document.getElementById('questionText'),
            codeData: document.getElementById('codeData'),
            answerInput: document.getElementById('answerInput'),
            submitBtn: document.getElementById('submitBtn'),
            hintBtn: document.getElementById('hintBtn'),
            skipBtn: document.getElementById('skipBtn'),
            nextBtn: document.getElementById('nextBtn'),
            feedbackArea: document.getElementById('feedbackArea'),
            feedbackText: document.getElementById('feedbackText'),
            quizContainer: document.getElementById('quizContainer'),
            resultsScreen: document.getElementById('resultsScreen'),
            finalScore: document.getElementById('finalScore'),
            scoreMessage: document.getElementById('scoreMessage'),
            performanceStats: document.getElementById('performanceStats'),
            resetBtn: document.getElementById('resetBtn'),
            restartBtn: document.getElementById('restartBtn')
        };

        // Initialize quiz
        function initializeQuiz() {
            loadGameData();
            elements.totalQuestions.textContent = questions.length;
            displayQuestion();
            updateDisplay();
        }

        // Display current question
        function displayQuestion() {
            const question = questions[gameData.currentQuestion];
            if (!question) {
                showResults();
                return;
            }

            elements.questionTitle.textContent = `Question ${gameData.currentQuestion + 1}`;
            elements.questionText.textContent = question.question;
            
            if (question.data && question.data.trim() !== '') {
                elements.codeData.textContent = question.data;
                elements.codeData.classList.remove('hidden');
            } else {
                elements.codeData.classList.add('hidden');
            }
            
            elements.answerInput.value = '';
            elements.answerInput.focus();
            
            // Reset UI state
            elements.feedbackArea.classList.add('hidden');
            elements.nextBtn.classList.add('hidden');
            elements.submitBtn.classList.remove('hidden');
            elements.answerInput.disabled = false;

            // Initialize attempts for this question if not exists
            if (!gameData.attempts[question.id]) {
                gameData.attempts[question.id] = 0;
            }
        }

        // Update score and question display
        function updateDisplay() {
            elements.score.textContent = gameData.score;
            elements.currentQuestion.textContent = gameData.currentQuestion + 1;
        }

        // Normalize answer for comparison
        function normalizeAnswer(answer) {
            return answer.trim().toLowerCase().replace(/\s+/g, ' ').replace(/[+\-]/g, '');
        }

        // Submit answer
        function submitAnswer() {
            const question = questions[gameData.currentQuestion];
            const userAnswer = elements.answerInput.value.trim();
            const correctAnswer = question.answer;
            
            gameData.attempts[question.id]++;
            
            // Check if answer is correct (flexible matching)
            const normalizedUser = normalizeAnswer(userAnswer);
            const normalizedCorrect = normalizeAnswer(correctAnswer);
            
            const isCorrect = normalizedUser === normalizedCorrect ||
                             normalizedUser.includes(normalizedCorrect) ||
                             normalizedCorrect.includes(normalizedUser);
            
            if (isCorrect) {
                // Correct answer
                const points = Math.max(1, 4 - gameData.attempts[question.id]);
                gameData.score += points;
                gameData.questionStats[question.id] = {
                    correct: true,
                    attempts: gameData.attempts[question.id],
                    points: points
                };
                
                showFeedback(`‚úÖ Correct! You earned ${points} points.\n\n${question.explanation}`, 'success');
                elements.nextBtn.classList.remove('hidden');
                elements.submitBtn.classList.add('hidden');
                elements.answerInput.disabled = true;
            } else {
                // Wrong answer
                gameData.questionStats[question.id] = {
                    correct: false,
                    attempts: gameData.attempts[question.id],
                    points: 0
                };
                
                if (gameData.attempts[question.id] >= 3) {
                    showFeedback(`‚ùå Incorrect. The correct answer is: ${question.answer}\n\n${question.explanation}`, 'error');
                    elements.nextBtn.classList.remove('hidden');
                    elements.submitBtn.classList.add('hidden');
                    elements.answerInput.disabled = true;
                } else {
                    showFeedback(`‚ùå Incorrect. Try again! (Attempt ${gameData.attempts[question.id]}/3)`, 'error');
                }
            }
            
            updateDisplay();
            saveGameData();
        }

        // Show hint based on current attempt count
        function showHint() {
            const question = questions[gameData.currentQuestion];
            const attempts = gameData.attempts[question.id];
            
            let hintText;
            if (attempts === 0) {
                // First try - show basic hint
                hintText = `üí° Hint: ${question.hint}`;
                gameData.attempts[question.id] = 1;
            } else if (attempts === 1) {
                // Second try - show detailed steps
                hintText = `üìã Detailed Steps:\n${question.steps}`;
                gameData.attempts[question.id] = 2;
            } else {
                // Third try - show answer
                hintText = `üìù Answer: ${question.answer}\n\n${question.explanation}`;
                gameData.attempts[question.id] = 3;
                elements.nextBtn.classList.remove('hidden');
                elements.submitBtn.classList.add('hidden');
                elements.answerInput.disabled = true;
            }
            
            showFeedback(hintText, 'hint');
            saveGameData();
        }

        // Show feedback
        function showFeedback(message, type) {
            elements.feedbackText.textContent = message;
            elements.feedbackArea.classList.remove('hidden');
            elements.feedbackArea.classList.add('fade-in');
            
            // Update border color based on type
            const borderColor = {
                success: 'border-green-500',
                error: 'border-red-500',
                hint: 'border-yellow-500'
            }[type] || 'border-blue-500';
            
            elements.feedbackArea.querySelector('div').className = `bg-gray-800/70 rounded-lg p-4 border-l-4 ${borderColor}`;
        }

        // Skip question
        function skipQuestion() {
            const question = questions[gameData.currentQuestion];
            gameData.questionStats[question.id] = {
                correct: false,
                attempts: gameData.attempts[question.id] || 0,
                points: 0,
                skipped: true
            };
            nextQuestion();
        }

        // Next question
        function nextQuestion() {
            gameData.currentQuestion++;
            if (gameData.currentQuestion < questions.length) {
                displayQuestion();
                updateDisplay();
            } else {
                showResults();
            }
            saveGameData();
        }

        // Show results
        function showResults() {
            elements.quizContainer.classList.add('hidden');
            elements.resultsScreen.classList.remove('hidden');
            
            const totalPossibleScore = questions.length * 3; // Max 3 points per question
            const percentage = Math.round((gameData.score / totalPossibleScore) * 100);
            
            elements.finalScore.textContent = `${gameData.score}/${totalPossibleScore}`;
            
            let message;
            if (percentage >= 90) message = "üåê Web Security Expert! Outstanding developer tools mastery!";
            else if (percentage >= 75) message = "üåü Excellent work! You've mastered browser security analysis!";
            else if (percentage >= 60) message = "üëç Great progress! Keep practicing those DevTools skills!";
            else if (percentage >= 40) message = "üìö Good foundation! Review the browser tools and try again!";
            else message = "üîß Keep learning! Web security analysis takes practice!";
            
            elements.scoreMessage.textContent = message;
            
            // Performance breakdown
            let statsHtml = '';
            let correctCount = 0;
            let skippedCount = 0;
            
            questions.forEach((question, index) => {
                const stat = gameData.questionStats[question.id];
                if (stat) {
                    if (stat.correct) correctCount++;
                    if (stat.skipped) skippedCount++;
                    
                    const status = stat.correct ? '‚úÖ' : (stat.skipped ? '‚è≠Ô∏è' : '‚ùå');
                    const points = stat.points || 0;
                    const attempts = stat.attempts || 0;
                    
                    statsHtml += `<div class="flex justify-between py-1">
                        <span>Q${index + 1}: ${status}</span>
                        <span>${points} pts (${attempts} attempts)</span>
                    </div>`;
                }
            });
            
            statsHtml += `<hr class="my-2 border-gray-600">`;
            statsHtml += `<div class="flex justify-between font-semibold">
                <span>Correct: ${correctCount}/${questions.length}</span>
                <span>Skipped: ${skippedCount}</span>
            </div>`;
            
            elements.performanceStats.innerHTML = statsHtml;
        }

        // Reset quiz
        function resetQuiz() {
            gameData = {
                currentQuestion: 0,
                score: 0,
                attempts: {},
                questionStats: {}
            };
            saveGameData();
            elements.resultsScreen.classList.add('hidden');
            elements.quizContainer.classList.remove('hidden');
            displayQuestion();
            updateDisplay();
        }

        // Event listeners
        elements.submitBtn.addEventListener('click', submitAnswer);
        elements.hintBtn.addEventListener('click', showHint);
        elements.skipBtn.addEventListener('click', skipQuestion);
        elements.nextBtn.addEventListener('click', nextQuestion);
        elements.resetBtn.addEventListener('click', resetQuiz);
        elements.restartBtn.addEventListener('click', resetQuiz);

        // Enter key to submit
        elements.answerInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !elements.submitBtn.classList.contains('hidden')) {
                submitAnswer();
            }
        });

        // Initialize the quiz when page loads
        document.addEventListener('DOMContentLoaded', initializeQuiz);
    </script>
</body>
</html>