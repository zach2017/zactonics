<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Cracking Skills Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .code-font {
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-violet-900 via-purple-900 to-indigo-900 min-h-screen text-white">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold mb-2 bg-gradient-to-r from-violet-400 to-purple-400 bg-clip-text text-transparent">
                üîê Password Security Quiz
            </h1>
            <p class="text-gray-300">Learn hash identification and security analysis techniques</p>
        </div>

        <!-- Score Display -->
        <div class="bg-black/30 rounded-lg p-4 mb-6 backdrop-blur-sm border border-gray-700">
            <div class="flex justify-between items-center">
                <div class="text-lg">
                    <span class="text-green-400">Score: </span>
                    <span id="score" class="font-bold">0</span>
                </div>
                <div class="text-lg">
                    <span class="text-blue-400">Question: </span>
                    <span id="currentQuestion" class="font-bold">1</span> / 
                    <span id="totalQuestions" class="font-bold">10</span>
                </div>
                <button id="resetBtn" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-colors">
                    Reset Quiz
                </button>
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quizContainer" class="bg-black/40 rounded-xl p-6 backdrop-blur-sm border border-gray-600 shadow-2xl">
            <!-- Question Display -->
            <div id="questionCard" class="mb-6">
                <h2 class="text-2xl font-semibold mb-4 text-purple-300" id="questionTitle">Question 1</h2>
                <div class="bg-gray-800/50 rounded-lg p-4 mb-4">
                    <p id="questionText" class="text-lg mb-3"></p>
                    <div id="hashData" class="bg-gray-900/70 rounded-lg p-3 code-font text-green-300 border border-gray-600 text-sm overflow-x-auto hidden break-all"></div>
                </div>
            </div>

            <!-- Answer Input -->
            <div class="mb-6">
                <label for="answerInput" class="block text-sm font-medium text-gray-300 mb-2">Your Answer:</label>
                <input type="text" id="answerInput" 
                       class="w-full px-4 py-3 bg-gray-800/70 border border-gray-600 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent text-white placeholder-gray-400"
                       placeholder="Enter your answer...">
            </div>

            <!-- Action Buttons -->
            <div class="flex gap-4 mb-6">
                <button id="submitBtn" class="flex-1 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105">
                    Submit Answer
                </button>
                <button id="hintBtn" class="flex-1 bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105">
                    Get Hint
                </button>
                <button id="skipBtn" class="bg-gray-600 hover:bg-gray-700 px-6 py-3 rounded-lg font-semibold transition-colors">
                    Skip
                </button>
            </div>

            <!-- Feedback Area -->
            <div id="feedbackArea" class="hidden">
                <div class="bg-gray-800/70 rounded-lg p-4 border-l-4 border-blue-500">
                    <h3 class="font-semibold mb-2 text-blue-300">Feedback:</h3>
                    <pre id="feedbackText" class="text-gray-300 whitespace-pre-wrap font-mono text-sm"></pre>
                </div>
            </div>

            <!-- Next Button -->
            <button id="nextBtn" class="hidden w-full bg-green-600 hover:bg-green-700 px-6 py-3 rounded-lg font-semibold mt-4 transition-all transform hover:scale-105">
                Next Question ‚Üí
            </button>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="hidden bg-black/40 rounded-xl p-8 backdrop-blur-sm border border-gray-600 shadow-2xl text-center">
            <h2 class="text-3xl font-bold mb-4 text-purple-300">Quiz Complete! üéâ</h2>
            <div class="text-6xl font-bold mb-4" id="finalScore">0/30</div>
            <p class="text-xl mb-6 text-gray-300" id="scoreMessage"></p>
            <div class="bg-gray-800/50 rounded-lg p-4 mb-6">
                <h3 class="font-semibold mb-2 text-purple-300">Performance Breakdown:</h3>
                <div id="performanceStats" class="text-left"></div>
            </div>
            <button id="restartBtn" class="bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 px-8 py-3 rounded-lg font-semibold transition-all transform hover:scale-105">
                Take Quiz Again
            </button>
        </div>

        <!-- Password Security Reference -->
        <div class="bg-black/30 rounded-xl p-6 backdrop-blur-sm border border-gray-600 shadow-2xl mt-8">
            <h2 class="text-2xl font-semibold mb-4 text-purple-300">üõ°Ô∏è Password Security Quick Reference</h2>
            <div class="grid md:grid-cols-2 gap-6 text-sm">
                <div class="bg-gray-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-violet-300 mb-3">Hash Types & Lengths</h3>
                    <div class="space-y-2 text-gray-300">
                        <div><span class="text-yellow-300">MD5:</span> 32 hex characters (128 bits)</div>
                        <div><span class="text-yellow-300">SHA-1:</span> 40 hex characters (160 bits)</div>
                        <div><span class="text-yellow-300">SHA-256:</span> 64 hex characters (256 bits)</div>
                        <div><span class="text-yellow-300">SHA-512:</span> 128 hex characters (512 bits)</div>
                    </div>
                </div>
                <div class="bg-gray-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-violet-300 mb-3">Hash Analysis Tools</h3>
                    <div class="space-y-2 text-gray-300">
                        <div><span class="text-yellow-300">Hashcat:</span> Advanced hash cracking</div>
                        <div><span class="text-yellow-300">John the Ripper:</span> Password cracking tool</div>
                        <div><span class="text-yellow-300">Crackstation:</span> Online hash lookup</div>
                        <div><span class="text-yellow-300">Hashes.com:</span> Hash database search</div>
                    </div>
                </div>
                <div class="bg-gray-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-violet-300 mb-3">Security Concepts</h3>
                    <div class="space-y-2 text-gray-300">
                        <div><span class="text-yellow-300">Salt:</span> Random data added to passwords</div>
                        <div><span class="text-yellow-300">Rainbow Tables:</span> Precomputed hash lookups</div>
                        <div><span class="text-yellow-300">Dictionary Attack:</span> Common password lists</div>
                        <div><span class="text-yellow-300">Brute Force:</span> Systematic password attempts</div>
                    </div>
                </div>
                <div class="bg-gray-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-violet-300 mb-3">Identification Tips</h3>
                    <div class="space-y-2 text-gray-300">
                        <div>‚Ä¢ Count hex characters for hash type</div>
                        <div>‚Ä¢ MD5 hashes are always 32 chars</div>
                        <div>‚Ä¢ SHA-256 is common in modern systems</div>
                        <div>‚Ä¢ Look for salt separators (:, $)</div>
                    </div>
                </div>
            </div>
            <div class="mt-4 p-4 bg-amber-900/30 border border-amber-600 rounded-lg">
                <p class="text-amber-200 text-sm">
                    <strong>Educational Note:</strong> This quiz teaches hash identification and security analysis 
                    for legitimate cybersecurity education and CTF competitions. Always use these skills ethically 
                    and only on systems you own or have explicit permission to test.
                </p>
            </div>
        </div>
    </div>

    <script>
        // Quiz Data
        const questions = [
            {
                id: 1,
                question: "What type of hash is this based on its length?",
                data: "5d41402abc4b2a76b9719d911017c592",
                answer: "MD5",
                hint: "Count the hexadecimal characters. MD5 hashes are always a specific length.",
                steps: "1. Count the characters in the hash\n2. This hash has 32 hexadecimal characters\n3. MD5 hashes are always exactly 32 hex characters long\n4. This is the identifying characteristic of MD5",
                explanation: "MD5 hashes are always exactly 32 hexadecimal characters long. This hash has 32 characters, making it an MD5 hash. MD5 is considered cryptographically weak and should not be used for secure applications."
            },
            {
                id: 2,
                question: "How many characters long is a SHA-1 hash?",
                data: "",
                answer: "40",
                hint: "SHA-1 produces a longer hash than MD5 but shorter than SHA-256.",
                steps: "1. SHA-1 produces a 160-bit hash\n2. Each hexadecimal character represents 4 bits\n3. 160 bits √∑ 4 bits per character = 40 characters\n4. SHA-1 hashes are always 40 hex characters",
                explanation: "SHA-1 hashes are always exactly 40 hexadecimal characters long. SHA-1 produces a 160-bit hash, and since each hex character represents 4 bits, the result is 40 characters."
            },
            {
                id: 3,
                question: "What hash type is this?",
                data: "adc83b19e793491b1c6ea0fd8b46cd9f32e592fc",
                answer: "SHA-1",
                hint: "Count the characters and refer to the standard hash lengths.",
                steps: "1. Count the hexadecimal characters\n2. This hash has 40 characters\n3. Compare to known hash lengths:\n   - MD5: 32 chars\n   - SHA-1: 40 chars\n   - SHA-256: 64 chars\n4. 40 characters = SHA-1",
                explanation: "This is a SHA-1 hash because it has exactly 40 hexadecimal characters. SHA-1 is deprecated for cryptographic security but still appears in some systems and CTF challenges."
            },
            {
                id: 4,
                question: "What is the character length of a SHA-256 hash?",
                data: "",
                answer: "64",
                hint: "SHA-256 produces a 256-bit hash. Calculate how many hex characters that represents.",
                steps: "1. SHA-256 produces a 256-bit hash\n2. Each hexadecimal character represents 4 bits\n3. 256 bits √∑ 4 bits per character = 64 characters\n4. SHA-256 hashes are always 64 hex characters",
                explanation: "SHA-256 hashes are always exactly 64 hexadecimal characters long. SHA-256 produces a 256-bit hash, which equals 64 hex characters (256 √∑ 4 = 64)."
            },
            {
                id: 5,
                question: "What popular online tool can be used to look up known password hashes?",
                data: "",
                answer: "Crackstation",
                hint: "This website has 'crack' in its name and is commonly used for hash lookups in CTF competitions.",
                steps: "1. Think about online hash lookup services\n2. Popular sites include Crackstation, Hashes.com\n3. Crackstation.net is one of the most well-known\n4. It has a large database of precomputed hashes",
                explanation: "Crackstation.net is a popular online service that maintains a database of known password hashes. It's commonly used in CTF competitions to quickly look up hashes of common passwords."
            },
            {
                id: 6,
                question: "Identify this hash type:",
                data: "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
                answer: "SHA-256",
                hint: "This is a longer hash. Count the characters to determine the type.",
                steps: "1. Count the hexadecimal characters\n2. This hash has 64 characters\n3. Reference the standard lengths:\n   - MD5: 32 chars\n   - SHA-1: 40 chars  \n   - SHA-256: 64 chars\n4. 64 characters = SHA-256",
                explanation: "This is a SHA-256 hash because it has exactly 64 hexadecimal characters. SHA-256 is currently considered secure and is widely used in modern cryptographic applications."
            },
            {
                id: 7,
                question: "What does 'salt' mean in password security?",
                data: "",
                answer: "random data added to passwords",
                hint: "Salt is added to passwords before hashing to prevent a specific type of attack.",
                steps: "1. Salt is used in password hashing\n2. It's additional data added to the password\n3. The salt is random and unique for each password\n4. It prevents rainbow table attacks",
                explanation: "Salt is random data that is added to a password before hashing. This prevents rainbow table attacks and makes each hash unique, even for identical passwords."
            },
            {
                id: 8,
                question: "How many characters is a SHA-512 hash?",
                data: "",
                answer: "128",
                hint: "SHA-512 produces the longest hash of the common SHA family. It's a 512-bit hash.",
                steps: "1. SHA-512 produces a 512-bit hash\n2. Each hexadecimal character represents 4 bits\n3. 512 bits √∑ 4 bits per character = 128 characters\n4. SHA-512 hashes are always 128 hex characters",
                explanation: "SHA-512 hashes are always exactly 128 hexadecimal characters long. SHA-512 produces a 512-bit hash, which equals 128 hex characters (512 √∑ 4 = 128)."
            },
            {
                id: 9,
                question: "What type of attack uses precomputed tables of hash values?",
                data: "",
                answer: "Rainbow table",
                hint: "This attack method uses precomputed tables and has a colorful name.",
                steps: "1. Some attacks use precomputed data\n2. These tables contain hash-password pairs\n3. They're called 'rainbow tables'\n4. They trade time for space in cracking attempts",
                explanation: "Rainbow table attacks use precomputed tables of hash values and their corresponding passwords. They trade computational time for storage space, allowing faster lookups but requiring large databases."
            },
            {
                id: 10,
                question: "Which of these hashes is MD5?",
                data: "A) 5d41402abc4b2a76b9719d911017c592\nB) adc83b19e793491b1c6ea0fd8b46cd9f32e592fc\nC) e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
                answer: "A",
                hint: "Look at the length of each hash and match it to the known MD5 length.",
                steps: "1. Check the length of each option:\n   A) 32 characters\n   B) 40 characters  \n   C) 64 characters\n2. Match to known lengths:\n   - MD5: 32 chars\n   - SHA-1: 40 chars\n   - SHA-256: 64 chars\n3. Option A has 32 characters = MD5",
                explanation: "Option A is the MD5 hash because it has exactly 32 hexadecimal characters. Option B (40 chars) is SHA-1, and Option C (64 chars) is SHA-256."
            }
        ];

        // Storage system - use localStorage when available, fallback to memory
        let gameData = {
            currentQuestion: 0,
            score: 0,
            attempts: {},
            questionStats: {}
        };

        // Load game data from storage
        function loadGameData() {
            try {
                const saved = localStorage.getItem('passwordSecurityQuizData');
                if (saved) {
                    gameData = JSON.parse(saved);
                }
            } catch(e) {
                console.log('Using in-memory storage - localStorage not available');
            }
        }

        // Save game data to storage
        function saveGameData() {
            try {
                localStorage.setItem('passwordSecurityQuizData', JSON.stringify(gameData));
            } catch(e) {
                // Continue with memory storage
            }
        }

        // DOM elements
        const elements = {
            score: document.getElementById('score'),
            currentQuestion: document.getElementById('currentQuestion'),
            totalQuestions: document.getElementById('totalQuestions'),
            questionTitle: document.getElementById('questionTitle'),
            questionText: document.getElementById('questionText'),
            hashData: document.getElementById('hashData'),
            answerInput: document.getElementById('answerInput'),
            submitBtn: document.getElementById('submitBtn'),
            hintBtn: document.getElementById('hintBtn'),
            skipBtn: document.getElementById('skipBtn'),
            nextBtn: document.getElementById('nextBtn'),
            feedbackArea: document.getElementById('feedbackArea'),
            feedbackText: document.getElementById('feedbackText'),
            quizContainer: document.getElementById('quizContainer'),
            resultsScreen: document.getElementById('resultsScreen'),
            finalScore: document.getElementById('finalScore'),
            scoreMessage: document.getElementById('scoreMessage'),
            performanceStats: document.getElementById('performanceStats'),
            resetBtn: document.getElementById('resetBtn'),
            restartBtn: document.getElementById('restartBtn')
        };

        // Initialize quiz
        function initializeQuiz() {
            loadGameData();
            elements.totalQuestions.textContent = questions.length;
            displayQuestion();
            updateDisplay();
        }

        // Display current question
        function displayQuestion() {
            const question = questions[gameData.currentQuestion];
            if (!question) {
                showResults();
                return;
            }

            elements.questionTitle.textContent = `Question ${gameData.currentQuestion + 1}`;
            elements.questionText.textContent = question.question;
            
            if (question.data && question.data.trim() !== '') {
                elements.hashData.textContent = question.data;
                elements.hashData.classList.remove('hidden');
            } else {
                elements.hashData.classList.add('hidden');
            }
            
            elements.answerInput.value = '';
            elements.answerInput.focus();
            
            // Reset UI state
            elements.feedbackArea.classList.add('hidden');
            elements.nextBtn.classList.add('hidden');
            elements.submitBtn.classList.remove('hidden');
            elements.answerInput.disabled = false;

            // Initialize attempts for this question if not exists
            if (!gameData.attempts[question.id]) {
                gameData.attempts[question.id] = 0;
            }
        }

        // Update score and question display
        function updateDisplay() {
            elements.score.textContent = gameData.score;
            elements.currentQuestion.textContent = gameData.currentQuestion + 1;
        }

        // Normalize answer for comparison
        function normalizeAnswer(answer) {
            return answer.trim().toLowerCase().replace(/\s+/g, ' ').replace(/-/g, '');
        }

        // Submit answer
        function submitAnswer() {
            const question = questions[gameData.currentQuestion];
            const userAnswer = elements.answerInput.value.trim();
            const correctAnswer = question.answer;
            
            gameData.attempts[question.id]++;
            
            // Check if answer is correct (flexible matching)
            const normalizedUser = normalizeAnswer(userAnswer);
            const normalizedCorrect = normalizeAnswer(correctAnswer);
            
            const isCorrect = normalizedUser === normalizedCorrect ||
                             normalizedUser.includes(normalizedCorrect) ||
                             normalizedCorrect.includes(normalizedUser);
            
            if (isCorrect) {
                // Correct answer
                const points = Math.max(1, 4 - gameData.attempts[question.id]);
                gameData.score += points;
                gameData.questionStats[question.id] = {
                    correct: true,
                    attempts: gameData.attempts[question.id],
                    points: points
                };
                
                showFeedback(`‚úÖ Correct! You earned ${points} points.\n\n${question.explanation}`, 'success');
                elements.nextBtn.classList.remove('hidden');
                elements.submitBtn.classList.add('hidden');
                elements.answerInput.disabled = true;
            } else {
                // Wrong answer
                gameData.questionStats[question.id] = {
                    correct: false,
                    attempts: gameData.attempts[question.id],
                    points: 0
                };
                
                if (gameData.attempts[question.id] >= 3) {
                    showFeedback(`‚ùå Incorrect. The correct answer is: ${question.answer}\n\n${question.explanation}`, 'error');
                    elements.nextBtn.classList.remove('hidden');
                    elements.submitBtn.classList.add('hidden');
                    elements.answerInput.disabled = true;
                } else {
                    showFeedback(`‚ùå Incorrect. Try again! (Attempt ${gameData.attempts[question.id]}/3)`, 'error');
                }
            }
            
            updateDisplay();
            saveGameData();
        }

        // Show hint based on current attempt count
        function showHint() {
            const question = questions[gameData.currentQuestion];
            const attempts = gameData.attempts[question.id];
            
            let hintText;
            if (attempts === 0) {
                // First try - show basic hint
                hintText = `üí° Hint: ${question.hint}`;
                gameData.attempts[question.id] = 1;
            } else if (attempts === 1) {
                // Second try - show detailed steps
                hintText = `üìã Detailed Steps:\n${question.steps}`;
                gameData.attempts[question.id] = 2;
            } else {
                // Third try - show answer
                hintText = `üìù Answer: ${question.answer}\n\n${question.explanation}`;
                gameData.attempts[question.id] = 3;
                elements.nextBtn.classList.remove('hidden');
                elements.submitBtn.classList.add('hidden');
                elements.answerInput.disabled = true;
            }
            
            showFeedback(hintText, 'hint');
            saveGameData();
        }

        // Show feedback
        function showFeedback(message, type) {
            elements.feedbackText.textContent = message;
            elements.feedbackArea.classList.remove('hidden');
            elements.feedbackArea.classList.add('fade-in');
            
            // Update border color based on type
            const borderColor = {
                success: 'border-green-500',
                error: 'border-red-500',
                hint: 'border-yellow-500'
            }[type] || 'border-blue-500';
            
            elements.feedbackArea.querySelector('div').className = `bg-gray-800/70 rounded-lg p-4 border-l-4 ${borderColor}`;
        }

        // Skip question
        function skipQuestion() {
            const question = questions[gameData.currentQuestion];
            gameData.questionStats[question.id] = {
                correct: false,
                attempts: gameData.attempts[question.id] || 0,
                points: 0,
                skipped: true
            };
            nextQuestion();
        }

        // Next question
        function nextQuestion() {
            gameData.currentQuestion++;
            if (gameData.currentQuestion < questions.length) {
                displayQuestion();
                updateDisplay();
            } else {
                showResults();
            }
            saveGameData();
        }

        // Show results
        function showResults() {
            elements.quizContainer.classList.add('hidden');
            elements.resultsScreen.classList.remove('hidden');
            
            const totalPossibleScore = questions.length * 3; // Max 3 points per question
            const percentage = Math.round((gameData.score / totalPossibleScore) * 100);
            
            elements.finalScore.textContent = `${gameData.score}/${totalPossibleScore}`;
            
            let message;
            if (percentage >= 90) message = "üîê Security Expert! Outstanding hash analysis skills!";
            else if (percentage >= 75) message = "üåü Excellent work! You've mastered hash identification!";
            else if (percentage >= 60) message = "üëç Great progress! Keep practicing those security concepts!";
            else if (percentage >= 40) message = "üìö Good foundation! Review the hash types and try again!";
            else message = "üõ°Ô∏è Keep learning! Password security mastery takes practice!";
            
            elements.scoreMessage.textContent = message;
            
            // Performance breakdown
            let statsHtml = '';
            let correctCount = 0;
            let skippedCount = 0;
            
            questions.forEach((question, index) => {
                const stat = gameData.questionStats[question.id];
                if (stat) {
                    if (stat.correct) correctCount++;
                    if (stat.skipped) skippedCount++;
                    
                    const status = stat.correct ? '‚úÖ' : (stat.skipped ? '‚è≠Ô∏è' : '‚ùå');
                    const points = stat.points || 0;
                    const attempts = stat.attempts || 0;
                    
                    statsHtml += `<div class="flex justify-between py-1">
                        <span>Q${index + 1}: ${status}</span>
                        <span>${points} pts (${attempts} attempts)</span>
                    </div>`;
                }
            });
            
            statsHtml += `<hr class="my-2 border-gray-600">`;
            statsHtml += `<div class="flex justify-between font-semibold">
                <span>Correct: ${correctCount}/${questions.length}</span>
                <span>Skipped: ${skippedCount}</span>
            </div>`;
            
            elements.performanceStats.innerHTML = statsHtml;
        }

        // Reset quiz
        function resetQuiz() {
            gameData = {
                currentQuestion: 0,
                score: 0,
                attempts: {},
                questionStats: {}
            };
            saveGameData();
            elements.resultsScreen.classList.add('hidden');
            elements.quizContainer.classList.remove('hidden');
            displayQuestion();
            updateDisplay();
        }

        // Event listeners
        elements.submitBtn.addEventListener('click', submitAnswer);
        elements.hintBtn.addEventListener('click', showHint);
        elements.skipBtn.addEventListener('click', skipQuestion);
        elements.nextBtn.addEventListener('click', nextQuestion);
        elements.resetBtn.addEventListener('click', resetQuiz);
        elements.restartBtn.addEventListener('click', resetQuiz);

        // Enter key to submit
        elements.answerInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !elements.submitBtn.classList.contains('hidden')) {
                submitAnswer();
            }
        });

        // Initialize the quiz when page loads
        document.addEventListener('DOMContentLoaded', initializeQuiz);
    </script>
</body>
</html>